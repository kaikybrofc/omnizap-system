# ==============================
# OmniZap - Ambiente base
# ==============================

# Configuracoes gerais do bot
COMMAND_PREFIX="#"
COMMAND_REACT_EMOJI=ü§ñ
USER_ADMIN=seu_jid_de_admin@s.whatsapp.net
IMAGE_MENU=https://example.com/assets/omnizap-banner.png
PM2_APP_NAME=omnizap-system
NODE_ENV=development
LOG_LEVEL=info
ECOSYSTEM_NAME=omnizap
BAILEYS_VERSION=

# Perfil de usuario / social
USER_PROFILE_ACTIVE_DAYS=30
USER_PROFILE_SOCIAL_DAYS=45

# Captcha
CAPTCHA_OK_EMOJI=‚úÖ

# ==============================
# Banco de dados (MySQL)
# ==============================
DB_HOST=localhost
DB_USER=user1
DB_PASSWORD=1234
DB_NAME=omnizap
DB_POOL_LIMIT=10

# Fila de escrita em banco
DB_WRITE_FLUSH_MS=1500
DB_MESSAGE_BATCH_SIZE=200
DB_CHAT_BATCH_SIZE=200
DB_CHAT_COOLDOWN_MS=45000
DB_MESSAGE_QUEUE_MAX=5000

# Monitor de banco (logs/slow queries)
# DB_MONITOR_ENABLED: por padrao e true em dev e false em production
DB_MONITOR_ENABLED=true
DB_SLOW_QUERY_MS=250
DB_LOG_EVERY_QUERY=false
DB_STATS_TOP_N=10
DB_STATS_SAMPLE_SIZE=2000
DB_SLOW_EXPLAIN=false
DB_MONITOR_LOG_PATH=./logs/db-monitor.log
DB_MONITOR_LOG_ROTATE_MB=20
DB_MONITOR_LOG_KEEP=5
DB_MONITOR_SNAPSHOT_EVERY_MS=0

# Alertas de query (ms), separados por virgula
DB_QUERY_ALERT_THRESHOLDS=500,1000

# ==============================
# LID/JID
# ==============================
LID_BACKFILL_ON_START=true
LID_BACKFILL_BATCH=50000

# ==============================
# Observabilidade do app (metrics endpoint interno)
# ==============================
METRICS_ENABLED=true
METRICS_HOST=0.0.0.0
METRICS_PORT=9102
METRICS_PATH=/metrics
METRICS_SERVICE_NAME=omnizap
# Override opcional para comando de ping (se vazio, usa METRICS_HOST/PORT/PATH)
METRICS_ENDPOINT=
METRICS_PING_TIMEOUT_MS=1500

# Telemetria extra do comando social (0=off, 1=on)
OMNIZAP_SOCIAL_METRICS=0

# ==============================
# Noticias
# ==============================
NEWS_API_URL=http://127.0.0.1:3001
NEWS_SENT_IDS_LIMIT=500

# ==============================
# OpenAI
# ==============================
OPENAI_API_KEY=
OPENAI_MODEL=gpt-5-nano
OPENAI_IMAGE_MODEL=gpt-5-nano
OPENAI_SYSTEM_PROMPT=
OPENAI_SESSION_TTL_SECONDS=21600
OPENAI_TIMEOUT_MS=30000
OPENAI_IMAGE_TIMEOUT_MS=120000
OPENAI_MAX_RETRIES=2
OPENAI_RETRY_BASE_MS=500
OPENAI_RETRY_MAX_MS=4000
OPENAI_MAX_IMAGE_MB=50
OPENAI_TTS_MODEL=gpt-4o-mini-tts
OPENAI_TTS_VOICE=alloy
OPENAI_TTS_FORMAT=mp3
OPENAI_TTS_PTT=false
OPENAI_TTS_MAX_CHARS=4096

# ==============================
# Quote
# ==============================
QUOTE_BG_COLOR="#144d37"
QUOTE_NAME_COLOR="#facc01"
QUOTE_TEXT_COLOR="#e8eef6"
QUOTE_TIMEOUT_MS=10000
QUOTE_EMOJI_TIMEOUT_MS=4000
QUOTE_EMOJI_BASE_URL=https://raw.githubusercontent.com/googlefonts/noto-emoji/main/png/128
QUOTE_FONT_FAMILY="Noto Sans,Segoe UI,Arial,Noto Color Emoji,Apple Color Emoji,Segoe UI Emoji,sans-serif"

# Legado (atualmente nao usado no codigo principal)
QUOTE_API_URL=https://bot.lyo.su/quote/generate.png

# ==============================
# Waifu
# ==============================
WAIFU_PICS_BASE=https://api.waifu.pics
WAIFU_PICS_TIMEOUT_MS=15000
WAIFU_PICS_ALLOW_NSFW=false

# Legado (atualmente nao usado no codigo principal)
WAIFU_API_TOKEN=
WAIFU_API_BASE=https://waifu.it/api/v4
WAIFU_TIMEOUT_MS=15000

# ==============================
# PokeAPI
# ==============================
POKEAPI_CACHE_TTL_MS=21600000
POKEAPI_TIMEOUT_MS=10000
POKEAPI_RETRY_ATTEMPTS=2
POKEAPI_RETRY_BASE_DELAY_MS=350
POKEAPI_DNS_FAMILY=4
POKEAPI_USER_AGENT=omnizap-system/2.1 (+https://github.com/Kaikygr/omnizap-system)
POKEAPI_LORE_LANGS=pt-br,pt,en

# ==============================
# Midia (play / yt-dlp API)
# ==============================
YTDLS_BASE_URL=http://127.0.0.1:3000
YT_DLS_BASE_URL=
PLAY_API_TIMEOUT_MS=900000
PLAY_API_DOWNLOAD_TIMEOUT_MS=1800000
PLAY_QUEUE_STATUS_TIMEOUT_MS=8000
PLAY_MAX_MB=100
PLAY_VIDEO_PROCESS_TIMEOUT_MS=420000
PLAY_VIDEO_FORCE_TRANSCODE=true

# TikTok
TIKTOK_EXTRACT_BASE_URL=http://127.0.0.1:8000
TIKTOK_EXTRACT_PATH=/extract
TIKTOK_EXTRACT_TIMEOUT_SECONDS=60
TIKTOK_HTTP_TIMEOUT_MS=120000
TIKTOK_MAX_MB=80
TIKTOK_MAX_URLS_PER_COMMAND=5
TIKTOK_MAX_IMAGES_PER_POST=10

# FFmpeg / debug
FFMPEG_PATH=ffmpeg
FFPROBE_PATH=ffprobe
DEBUG_FFMPEG=false

# ==============================
# RPG Pokemon
# ==============================
RPG_BATTLE_TTL_MS=300000
RPG_STARTER_LEVEL=5
RPG_POTION_HEAL_HP=25
RPG_SUPER_POTION_HEAL_HP=60
RPG_SHOP_REFRESH_MS=3600000
RPG_SHOP_ITEMS_PER_POCKET=6
RPG_POKEDEX_TOTAL=1025
RPG_DEFAULT_REGION=kanto
RPG_SESSION_IDLE_MS=600000
RPG_RAID_TTL_MS=1200000
RPG_PVP_TTL_MS=900000
RPG_PVP_COOLDOWN_MS=30000
RPG_PVP_QUEUE_TTL_MS=600000
RPG_PVP_WIN_GOLD=220
RPG_PVP_WIN_PLAYER_XP=140
RPG_PVP_WIN_POKEMON_XP=120
RPG_PVP_WIN_POINTS=3
RPG_PVP_LOSS_POINTS=1
RPG_STARTER_GOLD=450
RPG_STARTER_POKEBALL_QTY=4
RPG_STARTER_POTION_QTY=3
RPG_SHOP_COST_FACTOR=0.22
RPG_SHOP_COST_MIN=28
RPG_ECONOMY_RESCUE_COOLDOWN_MS=21600000
RPG_ECONOMY_RESCUE_MAX_GOLD=60
RPG_ECONOMY_RESCUE_GOLD=90
RPG_ECONOMY_RESCUE_POTION_QTY=1
RPG_TRADE_TTL_MS=1200000
RPG_COOP_CAPTURE_TARGET=25
RPG_COOP_RAID_TARGET=8
RPG_COOP_REWARD_GOLD=220
RPG_COOP_REWARD_XP=160
RPG_COOP_REWARD_ITEM_KEY=pokeball
RPG_COOP_REWARD_ITEM_QTY=2
RPG_KARMA_BONUS_THRESHOLD=20
RPG_KARMA_BONUS_RATE=0.08
RPG_SOCIAL_XP_CONVERSION_RATE=0.25
RPG_SOCIAL_XP_ACTION_CAP=45
RPG_SOCIAL_XP_DAILY_CONVERSION_CAP=300
RPG_SOCIAL_XP_PLAYER_SHARE=0.6
RPG_SOCIAL_XP_KARMA_BOOST_RATE=0.08
RPG_SOCIAL_XP_GROUP_BOOST_RATE=0.05
RPG_SOCIAL_XP_ABUSE_PENALTY_RATE=0.12
RPG_SOCIAL_XP_ABUSE_CAP_HITS_THRESHOLD=3

# Eventos semanais
RPG_EVENT_CAPTURE_TARGET=40
RPG_EVENT_CAPTURE_REWARD_GOLD=160
RPG_EVENT_CAPTURE_REWARD_XP=120
RPG_EVENT_PVP_TARGET=14
RPG_EVENT_PVP_REWARD_GOLD=220
RPG_EVENT_PVP_REWARD_XP=150
RPG_EVENT_RAID_DAMAGE_TARGET=4500
RPG_EVENT_RAID_REWARD_GOLD=210
RPG_EVENT_RAID_REWARD_XP=145

# Spawn / batalha
RPG_WILD_MAX_POKE_ID=1025
RPG_MOVE_SAMPLE_LIMIT=24
RPG_SHINY_CHANCE=0.01
RPG_BIOME_LOOKUP_ATTEMPTS=6
RPG_SPECIES_FILTER_ATTEMPTS=5
RPG_LEGENDARY_SPAWN_CHANCE=0.06
RPG_MYTHICAL_SPAWN_CHANCE=0.03
RPG_BATTLE_DAMAGE_SCALE=0.68
RPG_BATTLE_DAMAGE_MAX_HP_RATIO=0.5
RPG_BATTLE_DAMAGE_SUPER_EFFECTIVE_BONUS_RATIO=0.2
RPG_BATTLE_DAMAGE_ULTRA_EFFECTIVE_BONUS_RATIO=0.25

# Renderizacao canvas (batalha/perfil)
RPG_BATTLE_CANVAS_ENABLED=true
RPG_PROFILE_CANVAS_ENABLED=true
RPG_BATTLE_CANVAS_CACHE_TTL_MS=600000
RPG_BATTLE_CANVAS_CACHE_LIMIT=120
RPG_BATTLE_CANVAS_TIMEOUT_MS=7000
RPG_PROFILE_CANVAS_TIMEOUT_MS=6000
RPG_PROFILE_CANVAS_CACHE_TTL_MS=600000
RPG_PROFILE_CANVAS_CACHE_LIMIT=80

# ==============================
# Sticker packs
# ==============================
STICKER_STORAGE_DIR=./data/stickers
STICKER_PACK_MAX_ITEMS=30
STICKER_PACK_MAX_PACKS_PER_OWNER=0
STICKER_PACK_MAX_STICKER_BYTES=2097152
STICKER_PACK_LAST_CACHE_TTL_MS=21600000
STICKER_PACK_RATE_MAX_ACTIONS=20
STICKER_PACK_RATE_WINDOW_MS=60000
STICKER_PACK_PREVIEW_LINES=20
STICKER_PACK_FALLBACK_SEND_LIMIT=30
STICKER_PACK_ZIP_ENABLED=false
STICKER_PACK_AUTO_COLLECT_ENABLED=true
STICKER_PACK_AUTO_COLLECT_NOTIFY=true
STICKER_DEFAULT_PACK_NAME=https://omnizap.shop/
STICKER_PACK_AUTO_PACK_NAME=minhasfigurinhas
STICKER_PACK_AUTO_PACK_VISIBILITY=private
CLIP_CLASSIFIER_ENABLED=true
CLIP_CLASSIFIER_API_URL=http://127.0.0.1:8008/classify
CLIP_CLASSIFIER_FEEDBACK_API_URL=http://127.0.0.1:8008/feedback
CLIP_CLASSIFIER_TIMEOUT_MS=3000
CLIP_CLASSIFIER_PROVIDER=mobileclip
CLIP_CLASSIFIER_CLASSIFICATION_VERSION=v1
CLIP_CLASSIFIER_NSFW_THRESHOLD=0.6
CLIP_MODEL_NAME=MobileCLIP-S1
CLIP_MODEL_PRETRAINED=datacompdr
CLIP_DEFAULT_LABELS_JSON=
CLIP_DEFAULT_LABELS_PATH=
CLIP_MAX_LABELS=256
CLIP_TOP_K=5
ENABLE_EMBEDDING_CACHE=true
ENABLE_CLUSTERING=true
ENABLE_ADAPTIVE_SCORING=true
ENABLE_LLM_LABEL_EXPANSION=true
ADAPTIVE_ALPHA=0.4
ENTROPY_THRESHOLD=2.5
ENTROPY_NORMALIZED_THRESHOLD=0.76
AFFINITY_WEIGHT_CAP=0.85
ENABLE_AFFINITY_LOG_SCALING=true
AFFINITY_LOG_SCALE=4.0
ENABLE_LLM_EXPANSION_GATING=true
LLM_EXPANSION_MIN_MARGIN=0.08
LLM_EXPANSION_MAX_ENTROPY_NORMALIZED=0.72
SIMILARITY_THRESHOLD=0.85
SIMILARITY_LIMIT=25
SIMILARITY_SCAN_LIMIT=3000
LLM_LABEL_EXPANSION_MODEL=gpt-4.1-mini
LLM_LABEL_EXPANSION_TIMEOUT_MS=6000
STICKER_CLASSIFICATION_TAG_MIN_SCORE=0.2
PACK_CLASSIFICATION_TAG_MIN_SCORE=0.18
CLASSIFICATION_MAX_TAGS=6
ENABLE_SEMANTIC_CLUSTERING=false
SEMANTIC_CLUSTER_SIMILARITY_THRESHOLD=0.87
SEMANTIC_CLUSTER_MIN_SIZE_FOR_PACK=12
SEMANTIC_CLUSTER_EMBEDDING_MODEL=text-embedding-3-small
SEMANTIC_CLUSTER_SLUG_MODEL=gpt-4o-mini
SEMANTIC_CLUSTER_OPENAI_TIMEOUT_MS=10000
SEMANTIC_CLUSTER_MAX_SCAN=5000
SEMANTIC_CLUSTER_MAX_SUGGESTIONS_PER_ASSET=8
SEMANTIC_CLUSTER_CONCURRENCY=2
SEMANTIC_CLUSTER_MEMORY_CACHE_TTL_MS=300000
SEMANTIC_CLUSTER_REPROCESS_EXISTING=false
STICKER_CLASSIFICATION_BACKGROUND_ENABLED=true
STICKER_CLASSIFICATION_BACKGROUND_STARTUP_DELAY_MS=15000
STICKER_CLASSIFICATION_BACKGROUND_INTERVAL_MS=0
STICKER_CLASSIFICATION_BACKGROUND_INTERVAL_MIN_MS=300000
STICKER_CLASSIFICATION_BACKGROUND_INTERVAL_MAX_MS=600000
STICKER_CLASSIFICATION_BACKGROUND_CONCURRENCY=2
STICKER_CLASSIFICATION_BACKGROUND_BATCH_SIZE=30
STICKER_REPROCESS_PRIORITY_BACKFILL_ENABLED=true
STICKER_REPROCESS_PRIORITY_BACKFILL_SCAN_LIMIT=300
STICKER_REPROCESS_PRIORITY_BACKFILL_PRIORITY=95
STICKER_SEMANTIC_RECLASSIFICATION_ENABLED=true
STICKER_SEMANTIC_RECLASSIFICATION_BATCH_SIZE=400
STICKER_SEMANTIC_RECLASSIFICATION_MAX_PER_CYCLE=2000
STICKER_SEMANTIC_RECLASSIFICATION_ENTROPY_THRESHOLD=0.8
STICKER_SEMANTIC_RECLASSIFICATION_AFFINITY_THRESHOLD=0.3
STICKER_AUTO_PACK_BY_TAGS_ENABLED=true
STICKER_AUTO_PACK_BY_TAGS_STARTUP_DELAY_MS=20000
STICKER_AUTO_PACK_BY_TAGS_INTERVAL_MS=0
STICKER_AUTO_PACK_BY_TAGS_INTERVAL_MIN_MS=300000
STICKER_AUTO_PACK_BY_TAGS_INTERVAL_MAX_MS=600000
STICKER_AUTO_PACK_BY_TAGS_TARGET_SIZE=30
STICKER_AUTO_PACK_BY_TAGS_MIN_GROUP_SIZE=8
STICKER_AUTO_PACK_BY_TAGS_MAX_GROUPS=12
STICKER_AUTO_PACK_BY_TAGS_MAX_SCAN_ASSETS=5000
STICKER_AUTO_PACK_BY_TAGS_MAX_ADDITIONS_PER_CYCLE=300
STICKER_AUTO_PACK_BY_TAGS_MAX_REMOVALS_PER_CYCLE=120
STICKER_AUTO_PACK_BY_TAGS_TOP_TAGS_PER_ASSET=3
STICKER_AUTO_PACK_BY_TAGS_SCAN_PASSES=2
STICKER_AUTO_PACK_BY_TAGS_SCAN_PASS_JITTER_PERCENT=12
STICKER_AUTO_PACK_BY_TAGS_STABILITY_Z_SCORE=1.282
STICKER_AUTO_PACK_BY_TAGS_MIN_ASSET_ACCEPTANCE_RATE=0.45
STICKER_AUTO_PACK_BY_TAGS_MIN_THEME_DOMINANCE_RATIO=0.55
STICKER_AUTO_PACK_BY_TAGS_SCORE_STDDEV_PENALTY=0.18
AUTO_PACK_PROFILE=BALANCED
AGGRESSIVE_MIGRATION_THRESHOLD=0.01
ARCHIVE_LOW_SCORE_PACKS=false
STICKER_AUTO_PACK_BY_TAGS_NSFW_THRESHOLD=0.7
STICKER_AUTO_PACK_BY_TAGS_NSFW_SUGGESTIVE_THRESHOLD=0.4
STICKER_AUTO_PACK_BY_TAGS_NSFW_EXPLICIT_THRESHOLD=0.78
STICKER_AUTO_PACK_BY_TAGS_MIN_ASSET_EDGE=192
STICKER_AUTO_PACK_BY_TAGS_MIN_ASSET_AREA=36864
STICKER_AUTO_PACK_BY_TAGS_MIN_ASSET_BYTES=6144
STICKER_AUTO_PACK_BY_TAGS_MAX_BLURRY_SCORE=0.82
STICKER_AUTO_PACK_BY_TAGS_MAX_LOW_QUALITY_SCORE=0.82
STICKER_AUTO_PACK_BY_TAGS_DEDUPE_SIMILARITY_THRESHOLD=0.985
STICKER_AUTO_PACK_BY_TAGS_REBUILD_ENABLED=true
STICKER_AUTO_PACK_BY_TAGS_INCLUDE_PACKED_WHEN_REBUILD_DISABLED=false
STICKER_AUTO_PACK_BY_TAGS_MAX_PACKS_PER_OWNER=0
STICKER_AUTO_PACK_BY_TAGS_PRIORITIZE_COMPLETION=true
STICKER_AUTO_PACK_BY_TAGS_COMPLETION_TRANSFER_ENABLED=true
STICKER_AUTO_PACK_BY_TAGS_COMPLETION_TRANSFER_MIN_DONOR_ITEMS=8
STICKER_AUTO_PACK_BY_TAGS_ENTROPY_WEIGHT=0.09
STICKER_AUTO_PACK_BY_TAGS_AMBIGUOUS_FLAG_PENALTY=0.06
STICKER_AUTO_PACK_BY_TAGS_ADAPTIVE_BONUS_WEIGHT=0.18
STICKER_AUTO_PACK_BY_TAGS_MARGIN_BONUS_WEIGHT=0.12
STICKER_AUTO_PACK_BY_TAGS_SIMILAR_IMAGES_PENALTY_WEIGHT=0.08
STICKER_AUTO_PACK_BY_TAGS_LLM_TRAIT_WEIGHT=0.10
STICKER_AUTO_PACK_BY_TAGS_AFFINITY_CAP=0.85
STICKER_AUTO_PACK_BY_TAGS_ENABLE_AFFINITY_LOG_SCALING=true
STICKER_AUTO_PACK_BY_TAGS_AFFINITY_LOG_SCALE=4
STICKER_AUTO_PACK_BY_TAGS_ASSET_QUALITY_W1=0.34
STICKER_AUTO_PACK_BY_TAGS_ASSET_QUALITY_W2=0.24
STICKER_AUTO_PACK_BY_TAGS_ASSET_QUALITY_W3=0.18
STICKER_AUTO_PACK_BY_TAGS_ASSET_QUALITY_W4=0.24
STICKER_AUTO_PACK_BY_TAGS_READY_MIN_ITEMS=1
ENABLE_GLOBAL_OPTIMIZATION=true
OPTIMIZATION_CYCLES=3
OPTIMIZATION_EPSILON=0.001
OPTIMIZATION_STABLE_CYCLES=2
TRANSFER_THRESHOLD=0.02
MERGE_THRESHOLD=0.75
MIGRATION_CANDIDATE_LIMIT=16
TRANSFER_CANDIDATE_SIMILARITY_FLOOR=0.35
INTER_PACK_SIMILARITY_THRESHOLD=0.85
MIN_PACK_SIZE=8
AUTO_ARCHIVE_BELOW_PERCENTILE=20
SYSTEM_REDUNDANCY_LAMBDA=0.2
GLOBAL_ENERGY_W1=0.40
GLOBAL_ENERGY_W2=0.25
GLOBAL_ENERGY_W3=0.10
GLOBAL_ENERGY_W4=0.15
GLOBAL_ENERGY_W5=0.10
PACK_TIER_GOLD_THRESHOLD=0.80
PACK_TIER_SILVER_THRESHOLD=0.65
PACK_TIER_BRONZE_THRESHOLD=0.50
PACK_TIER_QUALITY_W1=0.40
PACK_TIER_QUALITY_W2=0.25
PACK_TIER_QUALITY_W3=0.15
PACK_TIER_QUALITY_W4=0.10
PACK_TIER_QUALITY_W5=0.10
STICKER_MATRIX_ALPHA=0.38
STICKER_MATRIX_BETA=0.27
STICKER_MATRIX_GAMMA=0.23
STICKER_MATRIX_DELTA=0.18
PACK_QUALITY_W1=0.32
PACK_QUALITY_W2=0.24
PACK_QUALITY_W3=0.16
PACK_QUALITY_W4=0.14
PACK_QUALITY_W5=0.09
PACK_QUALITY_W6=0.07
STICKER_AUTO_PACK_BY_TAGS_VISIBILITY=public
STICKER_AUTO_PACK_BY_TAGS_PUBLISHER=OmniZap Auto
STICKER_CREATOR_VERIFIED_PUBLISHERS=omnizap,omnizap auto

# Catalogo web de packs
STICKER_CATALOG_ENABLED=true
STICKER_WEB_PATH=/stickers
STICKER_API_BASE_PATH=/api/sticker-packs
STICKER_WEB_LIST_LIMIT=24
STICKER_WEB_LIST_MAX_LIMIT=60
STICKER_ORPHAN_LIST_LIMIT=120
STICKER_ORPHAN_LIST_MAX_LIMIT=300
STICKER_WEB_ASSET_CACHE_SECONDS=600
STICKER_CATALOG_ONLY_CLASSIFIED=true
STICKER_DATA_PUBLIC_PATH=/data
STICKER_DATA_PUBLIC_DIR=./data
STICKER_DATA_LIST_LIMIT=50
STICKER_DATA_LIST_MAX_LIMIT=200
STICKER_DATA_SCAN_MAX_FILES=10000

# Login web via WhatsApp -> Google
WHATSAPP_LOGIN_TRIGGER=iniciar
WHATSAPP_LOGIN_BASE_URL=https://omnizap.shop
WHATSAPP_LOGIN_PATH=/login/
WHATSAPP_LOGIN_LINK_SECRET=troque_por_um_segredo_forte
WHATSAPP_LOGIN_LINK_TTL_SECONDS=900
WHATSAPP_LOGIN_REQUIRE_SIGNATURE=true
# Canonical/cookies do catalogo web (necessario para compartilhar sessao entre www e dominio raiz)
SITE_CANONICAL_HOST=omnizap.shop
SITE_CANONICAL_SCHEME=https
SITE_CANONICAL_REDIRECT_ENABLED=true
SITE_COOKIE_DOMAIN=omnizap.shop

# Paths locais (legado/uso auxiliar)
STORE_PATH=./temp

# ==============================
# Observabilidade via docker-compose
# ==============================
STACK_NAME=omnizap

# Prometheus
PROMETHEUS_IMAGE_TAG=v2.52.0
PROMETHEUS_RETENTION_TIME=15d
PROMETHEUS_RETENTION_SIZE=20GB
PROMETHEUS_CONFIG_PATH=./observability/prometheus.yml
PROMETHEUS_ALERT_RULES_PATH=./observability/alert-rules.yml
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_IMAGE_TAG=10.4.3
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
GRAFANA_ROOT_URL=%(protocol)s://%(domain)s:%(http_port)s/
GRAFANA_TIMEZONE=America/Boa_Vista
GRAFANA_PROVISIONING_PATH=./observability/grafana/provisioning
GRAFANA_DASHBOARDS_PATH=./observability/grafana/dashboards
GRAFANA_PORT=3003

# Loki
LOKI_IMAGE_TAG=2.9.4
LOKI_CONFIG_PATH=./observability/loki-config.yml
LOKI_PORT=3100

# Promtail
PROMTAIL_IMAGE_TAG=2.9.4
PROMTAIL_CONFIG_PATH=./observability/promtail-config.yml
APP_LOGS_PATH=./logs
MYSQL_LOGS_PATH=/var/lib/mysql
PROMTAIL_PORT=9080

# MySQL Exporter
MYSQL_EXPORTER_IMAGE_TAG=v0.15.1
MYSQL_EXPORTER_DSN=exporter:exporter@(host.docker.internal:3306)/
MYSQL_EXPORTER_CNF_PATH=./observability/mysql-exporter.cnf
MYSQL_EXPORTER_PORT=9104

# Node Exporter
NODE_EXPORTER_IMAGE_TAG=v1.7.0
NODE_EXPORTER_PORT=9100

# ==============================
# Deploy / GitHub Deployments
# ==============================
# Habilita marca√ß√£o de deploy no GitHub em `npm run deploy`
DEPLOY_GITHUB_NOTIFY=1
# Ambiente exibido na aba Deployments do reposit√≥rio
DEPLOY_GITHUB_ENVIRONMENT=production
# Reposit√≥rio alvo (owner/repo). Opcional se o remote.origin estiver configurado.
DEPLOY_GITHUB_REPO=kaikybrofc/omnizap-system
# Token opcional dedicado ao deploy (se vazio usa GITHUB_TOKEN/GH_TOKEN).
DEPLOY_GITHUB_TOKEN=
# Etapa opcional de package no deploy.
DEPLOY_PACKAGE_STEP=0
DEPLOY_PACKAGE_INSTALL=1
DEPLOY_PACKAGE_TEST=0
DEPLOY_PACKAGE_PACK=0
DEPLOY_PACKAGE_ARTIFACTS_DIR=.artifacts
DEPLOY_PACKAGE_PUBLISH=0
DEPLOY_PACKAGE_REGISTRY=https://npm.pkg.github.com
DEPLOY_PACKAGE_TOKEN=
# OTP opcional para publish (use apenas quando token exigir 2FA interativo)
DEPLOY_PACKAGE_OTP=
# Forca owner do scope durante validacao de publish (ex: kaikybrofc ou sua org)
DEPLOY_PACKAGE_SCOPE_OWNER=
# Alternativas aceitas automaticamente para auth do publish:
# Para npm.pkg.github.com, priorize GITHUB_TOKEN/DEPLOY_GITHUB_TOKEN.
# NPM_TOKEN=
# NODE_AUTH_TOKEN=
DEPLOY_PACKAGE_TAG=latest
DEPLOY_PACKAGE_PUBLISH_SKIP_IF_EXISTS=1
# Publish secundario (dual publish), ex: npmjs.org
DEPLOY_PACKAGE_PUBLISH_SECONDARY=0
DEPLOY_PACKAGE_SECONDARY_REGISTRY=https://registry.npmjs.org
DEPLOY_PACKAGE_SECONDARY_TOKEN=
# OTP opcional para publish secundario no npmjs
DEPLOY_PACKAGE_SECONDARY_OTP=
DEPLOY_PACKAGE_SECONDARY_TAG=latest
# Para pacote escopado no npmjs, use "public" para aparecer no npmjs.com
DEPLOY_PACKAGE_SECONDARY_ACCESS=public
DEPLOY_PACKAGE_SECONDARY_PUBLISH_SKIP_IF_EXISTS=1
# Opcional: ordem customizada de fallback de token para o secundario
DEPLOY_PACKAGE_SECONDARY_TOKEN_KEYS=

# ==============================
# Release (auto commit/push)
# ==============================
# Tipo de bump padr√£o no npm run release (patch/minor/major...)
RELEASE_TYPE=patch
# Opcional: for√ßa vers√£o exata (ex: 2.2.0), ignorando RELEASE_TYPE
RELEASE_FORCE_VERSION=
# Rollover autom√°tico de patch: quando patch >= RELEASE_PATCH_ROLLOVER_AT, vira (major).(minor+1).0
RELEASE_PATCH_ROLLOVER_ENABLED=1
RELEASE_PATCH_ROLLOVER_AT=10
# Faz commit automatico de alteracoes pendentes antes do release
RELEASE_GIT_AUTO_COMMIT=1
# Faz push automatico dos commits gerados no release
RELEASE_GIT_AUTO_PUSH=1
# Remote/branch para push (branch vazio = branch atual)
RELEASE_GIT_REMOTE=origin
RELEASE_GIT_BRANCH=
# Mensagens de commit automatico
RELEASE_GIT_PRE_COMMIT_MESSAGE=chore(release): auto-commit before release
RELEASE_GIT_COMMIT_VERSION=1
RELEASE_GIT_VERSION_COMMIT_PREFIX=chore(release): v
# Gera√ß√£o autom√°tica de tag da vers√£o no git
RELEASE_GIT_TAG_CREATE=1
RELEASE_GIT_TAG_PUSH=1
RELEASE_GIT_TAG_ANNOTATED=1

# Cria/atualiza GitHub Release (aba Releases) automaticamente no npm run release
RELEASE_GITHUB_RELEASE=1
# Se 1, falha o release caso GitHub Release esteja desativado
RELEASE_REQUIRE_GITHUB_RELEASE=1
RELEASE_GITHUB_REPO=kaikybrofc/omnizap-system
RELEASE_GITHUB_TOKEN=
RELEASE_GITHUB_TAG_PREFIX=v
RELEASE_GITHUB_NAME_PREFIX=v
RELEASE_GITHUB_GENERATE_NOTES=1
# Inclui se√ß√£o markdown com arquivos alterados no corpo da release
RELEASE_GITHUB_RELEASE_INCLUDE_CHANGED_FILES=1
# Limite de arquivos listados no markdown da release
RELEASE_GITHUB_RELEASE_MAX_FILES=300
# Opcional: 1 para prerelease, 0 para release normal, vazio = auto (detecta '-' na versao)
RELEASE_GITHUB_PRERELEASE=
RELEASE_GITHUB_DRAFT=0
# Opcional: commit/tag alvo (vazio usa HEAD atual)
RELEASE_GITHUB_TARGET=

# Se 1, exige publish em ambos os registries no release (GitHub Packages + npmjs)
RELEASE_REQUIRE_DUAL_PUBLISH=1
# Verifica√ß√£o final: local + registries + GitHub Release na mesma vers√£o
RELEASE_VERIFY_UNIFIED_VERSION=1
RELEASE_VERIFY_PRIMARY_REGISTRY=https://npm.pkg.github.com
RELEASE_VERIFY_SECONDARY_REGISTRY=https://registry.npmjs.org
RELEASE_VERIFY_PRIMARY_TOKEN_KEYS=DEPLOY_PACKAGE_TOKEN,DEPLOY_GITHUB_TOKEN,GITHUB_TOKEN,GH_TOKEN,NPM_TOKEN,NODE_AUTH_TOKEN
RELEASE_VERIFY_SECONDARY_TOKEN_KEYS=DEPLOY_PACKAGE_SECONDARY_TOKEN,NPM_TOKEN,NODE_AUTH_TOKEN
